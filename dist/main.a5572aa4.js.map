{"version":3,"sources":["main.js"],"names":["x","localStorage","getItem","xObject","JSON","parse","hashMap","$siteList","$","$lastLi","find","simplifyUrl","url","replace","render","remove","forEach","node","index","$li","logo","insertBefore","on","window","open","e","stopPropagation","splice","prompt","indexOf","console","log","push","toUpperCase","logoType","onbeforeunload","string","stringify","setItem","document","key","i","length","toLowerCase"],"mappings":"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","file":"main.a5572aa4.js","sourceRoot":"../src","sourcesContent":["//获取localStorage数据\nconst x = localStorage.getItem('x')\nconst xObject = JSON.parse(x)\nconst hashMap = xObject || [{\n    'logo': 'A',\n    'url': 'https://www.acfun.cn/'\n}, {\n    'logo': 'B',\n    'url': 'https://www.bilibili.com/'\n}]\n\nconst $siteList = $('.siteList')\n// li.last失效, 改用li:last\nconst $lastLi = $siteList.find('li:last')\n\nconst simplifyUrl = (url) => {\n    return url.replace(\"https://\", \"\")\n        .replace(\"http://\", \"\")\n        .replace(\"www.\", \"\")\n        .replace(/\\/.*/, \"\")\n}\n\nconst render = () => {\n    // li:not(.last)失效, 改用li:not(:last)\n    $siteList.find('li:not(:last)').remove()\n    hashMap.forEach((node, index) => {\n        const $li = $(`<li>\n            <div class=\"site\">\n                <div class=\"logo\">${node.logo}</div>\n                <div class=\"link\">${simplifyUrl(node.url)}</div>\n                <div class=\"close\">\n                    <svg class=\"icon\">\n                        <use xlink:href=\"#icon-delete\"></use>\n                    </svg>\n                </div>\n            </div>\n        </li>`).insertBefore($lastLi)\n\n        $li.on(\"click\", () => {\n            //类似a标签, 点击新打开页面\n            window.open(node.url)\n        })\n        $li.on(\"click\", \".close\", (e) => {\n            //阻止冒泡\n            e.stopPropagation()\n            hashMap.splice(index, 1)\n            render()\n        })\n    })\n}\n\nrender()\n$('.addButton').on('click', () => {\n    // 输入框\n    let url = window.prompt('请输入网站地址')\n    if (url.indexOf('http') !== 0) {\n        url = 'https://' + url\n    }\n    console.log(url)\n    hashMap.push({\n        logo: simplifyUrl(url)[0].toUpperCase(),\n        logoType: 'text',\n        url: url\n    })\n\n    render()\n})\n\n\nwindow.onbeforeunload = () => {\n    console.log('页面要关闭了')\n    const string = JSON.stringify(hashMap)\n    localStorage.setItem('x', string)\n}\n\n//监听document元素\n$(document).on(\"keypress\", (e) => {\n    //const key = e.key\n    //简写:变量名和属性名相同\n    const {key} = e\n    for(let i=0; i<hashMap.length; i++){\n        if(hashMap[i].logo.toLowerCase() === key){\n            window.open(hashMap[i].url)\n        }\n    }\n})"]}